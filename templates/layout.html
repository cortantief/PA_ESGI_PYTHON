<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>{% block title %}Vulnerability Report{% endblock %}</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body class="bg-light p-4">
  <div class="container">

    {% block header %}
    <div class="mb-4">
      <h1 class="display-5">Vulnerability Report</h1>
      <p class="text-muted">Generated on: {{ generation_time }}</p>
    </div>
    {% endblock %}

    {% block summary %}
    <div class="card p-3 mb-4">
      <h5 class="card-title">Severity Breakdown</h5>
      <div class="d-flex justify-content-center">
        <img src="{{ chart_image_path }}" alt="Severity Chart" class="img-fluid rounded" style="max-width: 500px;">
      </div>
    </div>
    {% endblock %}

    {% block details %}
    <div class="mb-5">
      <h2 class="h4 mb-3">Details</h2>
      <div class="table-responsive">
        <table class="table table-bordered table-striped align-middle">
          <thead class="table-dark text-center">
            <tr>
              <th>#</th>
              <th>Vulnerability</th>
              <th>Description</th>
              <th>Endpoint</th>
            </tr>
          </thead>
          <tbody>
            {% for vuln in vulnerabilities %}
            <tr>
              <td class="text-center">{{ loop.index }}</td>
              <td>
                <span> {{ vuln.name }}</span>
              </td>
              <td>{{ vuln.description }}</td>
              <td>{{ vuln.endpoint }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endblock %}

    <div class="text-center">
      {% block footer %}
      <p>Report generated by <strong>TRINJECT Â®</strong></p>
      {% endblock %}
    </div>
</body>

</html>